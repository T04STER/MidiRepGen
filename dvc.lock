schema: '2.0'
stages:
  download_dataset:
    cmd: python scripts/download_dataset.py
    deps:
    - path: scripts/download_dataset.py
      hash: md5
      md5: e718ad323b308084cfb4c7770e3aad98
      size: 597
    params:
      params.yaml:
        dataset:
          gdrive_url: https://drive.google.com/file/d/1BDEPaEWFEB2ADquS1VYp5iLZYVngw799/view
          out_zip: data/midi_dataset.zip
          out_unpacked: data/midi_dataset
    outs:
    - path: data/midi_dataset.zip
      hash: md5
      md5: aaece5750b0cfe30b6a3be5c7bb14f83
      size: 192678627
    - path: data/midi_dataset/
      hash: md5
      md5: 6903c5768276dd84ed86a55c334dde93.dir
      size: 271270589
      nfiles: 10855
  midi_to_dataset:
    cmd: python scripts/midi_to_dataset.py
    deps:
    - path: data/midi_dataset/
      hash: md5
      md5: 6903c5768276dd84ed86a55c334dde93.dir
      size: 271270589
      nfiles: 10855
    - path: scripts/midi_to_dataset.py
      hash: md5
      md5: b609f83e13f444746b3921c5ce9ff670
      size: 3544
    params:
      params.yaml:
        dataset:
          gdrive_url: https://drive.google.com/file/d/1BDEPaEWFEB2ADquS1VYp5iLZYVngw799/view
          out_zip: data/midi_dataset.zip
          out_unpacked: data/midi_dataset
    outs:
    - path: data/preprocessed_piano_roll.pkl
      hash: md5
      md5: d233843db19f912b4224c1889e08053e
      size: 1695025925
  midi_to_dataset@piano_roll:
    cmd: python scripts/midi_to_dataset.py --mode piano_roll
    deps:
    - path: data/midi_dataset/
      hash: md5
      md5: 6903c5768276dd84ed86a55c334dde93.dir
      size: 271270589
      nfiles: 10855
    - path: scripts/midi_to_dataset.py
      hash: md5
      md5: b1e0a9e3c7c3784d79f9a833633d4e4b
      size: 4164
    params:
      params.yaml:
        dataset:
          gdrive_url: https://drive.google.com/file/d/1BDEPaEWFEB2ADquS1VYp5iLZYVngw799/view
          out_zip: data/midi_dataset.zip
          out_unpacked: data/midi_dataset
    outs:
    - path: data/preprocessed_piano_roll.pkl
      hash: md5
      md5: d233843db19f912b4224c1889e08053e
      size: 1695025925
  midi_to_dataset@note_events:
    cmd: python scripts/midi_to_dataset.py --mode note_events
    deps:
    - path: data/midi_dataset/
      hash: md5
      md5: 6903c5768276dd84ed86a55c334dde93.dir
      size: 271270589
      nfiles: 10855
    - path: scripts/midi_to_dataset.py
      hash: md5
      md5: 47eab836226840f8784b6b576d98f1d3
      size: 4108
    params:
      params.yaml:
        dataset:
          gdrive_url: https://drive.google.com/file/d/1BDEPaEWFEB2ADquS1VYp5iLZYVngw799/view
          out_zip: data/midi_dataset.zip
          out_unpacked: data/midi_dataset
        preprocess.note_count: 8
        preprocess.sample_rate: 0.9
    outs:
    - path: data/preprocessed_note_events.pkl
      hash: md5
      md5: 7a5356862379419d19a6c1f247bbbcd2
      size: 703569994
